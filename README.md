TestCase-PostTechnology

ТЕСТОВОЕ ЗАДАНИЕ.
Краткое описание результата выполнения.

Предлагается к рассмотрению выполненное тестовое задание на создание двух сервисов А и Б.
Сервис А – издатель, реализован в виде консольного приложения, проект PostTechnology.EventPublisher.
Сервис Б – подписчик, реализован в виде консольного приложения, проект PostTechnology.EventSubscriber.

Для взаимодействия сервисов используется брокер сообщений NATS Streaming.
Разработка велась в среде VisualStudio 2019.
Тип используемой БД – SqlServer LocalDB.
При первом запуске приложения создаётся пустой файл БД с полями:
Для сервиса А: Id, Number, Sent, Content, Hash. Поле Id – первичный ключ, integer, автоинкрементируемое. Поле Number – integer, уникальное, содержит номер сообщения. Поле Sent – время отправки сообщения. Поле Content – текст сообщения. Поле Hash – контрольная сумма предыдущего состояния всей базы.
Для сервиса Б: Те же поля что и для сервиса А, дополненные полем Received – время получения сообщения.

Функции издателя / cервиса А:

Каждую секунду отправляет новое сообщение.
Сообщения хранятся в локальной «базе».
В случае перезапуска сервиса, выполняется восстановление своего последнего состояния.
После восстановления осуществляется генерация и отправка новых сообщений.
Сообщение содержит:
- порядковый номер
- время отправки
- произвольный текст
- хэш предыдущего состояния всей "базы".

Функции подписчика / сервиса Б:

Подписывается на канал событий и получает "новые" сообщения.
После успешного получения сохраняет их в «базу», каждому полученному сообщению присваивается время получения.
В случае перезапуска сервиса, выполняется восстановление своего последнего состояния и происходит чтение с того момента, на котором был остановлен.
